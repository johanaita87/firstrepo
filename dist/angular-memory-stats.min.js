/**
 * angular-memory-stats - Angular Memory Stats displays your app memory activity
 * @version v1.0.0-beta1
 * @author shprink <contact@julienrenaux.fr>
 * @link https://github.com/livingobjects/angular-memory-stats
 * @license MIT
 */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,o,e;r=n(1),o=n(2),e.exports=e=angular.module("angular-memory-stats",[]),e.provider("angularMemoryStats",function(){var e,t,n,r,o,i;return t=["topLeft","topRight","bottomLeft","bottomRight"],n={isEnabled:!0,corner:"bottomRight",css:{}},this.isEnabled=n.isEnabled,this.corner=n.corner,this.css=n.css,r=function(e){return function(t){return null==t&&(t=!0),e.isEnabled=t}}(this),o=function(e){return function(n){return n&&t.indexOf(n)>-1?e.corner=n:void 0}}(this),i=function(e){return function(t){return t?e.css=t:void 0}}(this),e=function(e){return function(){return{isEnabled:function(){return e.isEnabled},getCss:function(){var t,r;switch(r={position:"fixed",zIndex:1},t=e.corner,-1===["topLeft","topRight","bottomLeft","bottomRight"].indexOf(t)&&(t=n.corner),t){case"topLeft":r.top="5px",r.left="5px";break;case"topRight":r.top="5px",r.right="5px";break;case"bottomLeft":r.bottom="5px",r.left="5px";break;case"bottomRight":r.bottom="5px",r.right="5px"}return angular.extend(r,e.css)}}}}(this),{enable:r,setCorner:o,setCss:i,$get:e}}),e.directive("angularMemoryStats",function(){return{restrict:"E",scope:!1,controller:["$scope","$element","angularMemoryStats",function(e,t,n){var i,a;if(n.isEnabled())return i=new r,t.css(n.getCss()),t.append(i.domElement),a=function(){return i.update(),o(a)},o(a)}]}})},function(e){e.exports=function(){var e=100,t=0,n=document.createElement("div");n.id="stats",n.style.cssText="width:80px;opacity:0.9;cursor:pointer";var r=document.createElement("div");r.id="ms",r.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;",n.appendChild(r);var o=document.createElement("div");o.id="msText",o.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",o.innerHTML="Memory",r.appendChild(o);var i=document.createElement("div");for(i.id="msGraph",i.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",r.appendChild(i);i.children.length<74;){var a=document.createElement("span");a.style.cssText="width:1px;height:30px;float:left;background-color:#131",i.appendChild(a)}var s=function(e,t,n){var r=e.appendChild(e.firstChild);r.style.height=t+"px",n&&(r.style.backgroundColor=n)};window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var c=Date.now(),m=performance.memory.usedJSHeapSize;return{domElement:n,update:function(){function n(e,t){var n=["Bytes","KB","MB","GB","TB"];if(0==e)return"n/a";t=void 0!==t?t:0;var r=Math.pow(10,t),o=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e*r/Math.pow(1024,o))/r+" "+n[o]}if(!(Date.now()-c<1e3/30)){c=Date.now();var r=performance.memory.usedJSHeapSize-m;m=performance.memory.usedJSHeapSize;var a=0>r?"#830":"#131",u=performance.memory.usedJSHeapSize;e=Math.min(e,u),t=Math.max(t,u),o.textContent="Mem: "+n(u,2);var l=u/31457280,p=Math.min(30,30-30*l);s(i,p,a)}}}}},function(e,t,n){var r;!function(o){!function(){if(!o.requestAnimationFrame){o.webkitRequestAnimationFrame&&(o.requestAnimationFrame=o.webkitRequestAnimationFrame,o.cancelAnimationFrame=o.webkitCancelAnimationFrame||o.webkitCancelRequestAnimationFrame);var e=0;o.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),i=o.setTimeout(function(){t(n+r)},r);return e=n+r,i},o.cancelAnimationFrame=function(e){clearTimeout(e)}}}(),r=function(){return o.requestAnimationFrame}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(window)}]);